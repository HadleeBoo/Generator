<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>D&D Pure Loot Generator</title>
<style>
  body{margin:0;font-family:Arial,Helvetica,sans-serif;background:#111;color:#eee}
  header{background:#222;padding:12px;text-align:center;font-size:20px;font-weight:bold;border-bottom:2px solid #444}
  .container{display:flex;flex-wrap:wrap;padding:12px;gap:12px}
  .panel{background:#1b1b1b;padding:12px;border:1px solid #333;border-radius:8px;flex:1;min-width:280px}
  label{display:block;margin:6px 0 2px;font-size:13px;color:#bbb}
  select,input[type=number]{width:100%;padding:6px;border-radius:4px;border:1px solid #444;background:#222;color:#eee}
  button{background:#4cafef;color:#111;padding:10px;border:none;border-radius:6px;cursor:pointer;font-weight:bold;margin-top:10px;width:100%}
  button:hover{background:#6ccfff}
  .loot-log{max-height:400px;overflow-y:auto;font-size:14px;background:#0d0d0d;padding:10px;border-radius:6px;border:1px solid #333}
  .loot-item{border-bottom:1px solid #333;padding:4px 0}
  .good{color:#4ae18f}
  .bad{color:#e14a4a}
</style>
</head>
<body>
<header>D&D Pure Loot Generator</header>
<div class="container">
  <div class="panel">
    <h3>Loot Options</h3>
    <label>Origin</label>
    <select id="origin">
      <option>Chest</option>
      <option>Enemy</option>
      <option>Boss</option>
      <option>Container</option>
      <option>Pickpocket</option>
    </select>
    <label>Quantity</label>
    <input type="number" id="quantity" value="3" min="1" max="50">
    <label>Cursed / Blessed</label>
    <select id="alignment">
      <option>Neutral</option>
      <option>Cursed</option>
      <option>Blessed</option>
    </select>
    <label>Setting</label>
    <select id="setting">
      <option>Dungeon</option><option>Castle</option><option>House</option><option>Swamp</option>
      <option>Cave</option><option>Forest</option><option>Village</option><option>Desert</option>
      <option>Mountain</option><option>Temple</option><option>Graveyard</option><option>Stronghold</option>
      <option>Port</option><option>Tavern</option><option>Mine</option><option>Ruins</option>
      <option>Library</option><option>Tower</option><option>Plains</option><option>Crypt</option>
    </select>
    <button onclick="generateLoot()">Generate Loot</button>
  </div>

  <div class="panel">
    <h3>Trader Options</h3>
    <label>Trader Type</label>
    <select id="trader">
      <option>None</option><option>Healer</option><option>Blacksmith</option><option>Alchemist</option>
      <option>General Store</option><option>Magic Shop</option><option>Fletcher</option><option>Butcher</option>
    </select>
    <label>Randomize Stock?</label>
    <select id="randomize">
      <option>No</option>
      <option>Yes</option>
    </select>
    <button onclick="generateShop()">Generate Shop Inventory</button>
  </div>

  <div class="panel" style="flex:2">
    <h3>Loot Log</h3>
    <div id="lootLog" class="loot-log"></div>
    <button onclick="clearLog()">Clear Log</button>
  </div>
</div>

<script>
const srdItems = [
  "Potion of Healing","Longsword","Shortsword","Dagger","Shield","Chain Mail",
  "Leather Armor","Crossbow","Spell Scroll","Ring of Protection","Bag of Holding",
  "Wand of Magic Missiles","Cloak of Protection","Boots of Elvenkind","Amulet of Health"
];

function rand(arr){return arr[Math.floor(Math.random()*arr.length)];}

function generateLoot(){
  const origin=document.getElementById("origin").value;
  const qty=parseInt(document.getElementById("quantity").value);
  const alignment=document.getElementById("alignment").value;
  const setting=document.getElementById("setting").value;
  let log=document.getElementById("lootLog");
  for(let i=0;i<qty;i++){
    let item=rand(srdItems);
    let spanClass=alignment==="Cursed"?"bad":alignment==="Blessed"?"good":"";
    log.innerHTML+=`<div class="loot-item"><b>${item}</b> from <i>${origin}</i> in <i>${setting}</i> <span class="${spanClass}">${alignment!=="Neutral"?alignment:""}</span></div>`;
  }
}

function generateShop(){
  const trader=document.getElementById("trader").value;
  if(trader==="None")return;
  const randomize=document.getElementById("randomize").value==="Yes";
  let stock=[];
  if(randomize){
    let count=3+Math.floor(Math.random()*5);
    for(let i=0;i<count;i++) stock.push(rand(srdItems));
  }else{
    stock=[...srdItems.slice(0,5)];
  }
  let log=document.getElementById("lootLog");
  log.innerHTML+=`<div class="loot-item"><b>${trader} Stock:</b> ${stock.join(", ")}</div>`;
}

function clearLog(){
  document.getElementById("lootLog").innerHTML="";
}
</script>
</body>
</html>